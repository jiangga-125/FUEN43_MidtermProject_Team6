@{
    var success = TempData["SuccessMessage"] as string;
    var error = TempData["ErrorMessage"] as string;
    var msg = success ?? error;
    var isSuccess = success != null;
}

@if (!string.IsNullOrWhiteSpace(msg))
{
    <div class="modal fade" id="resultModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content border-0 shadow">
                <div class="modal-header @(isSuccess ? "bg-success" : "bg-danger") text-white">
                    <h5 class="modal-title">
                        <i class="bi @(isSuccess ? "bi-check-circle" : "bi-x-circle") me-2"></i>
                        @(isSuccess ? "成功" : "錯誤")
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="關閉"></button>
                </div>
                <div class="modal-body">
                    <p class="mb-0">@msg</p>
                </div>
                <!-- 取消底部分隔線：加上 border-0 或自訂 style -->
                <div class="modal-footer border-0">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">確定</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var el = document.getElementById('resultModal');
            if (el) {
                var modal = new bootstrap.Modal(el);
                modal.show();
            }
        });
    </script>
}

